# =============================================================================
# ADO Ticket Quality Assessment - n8n Configuration Template
# =============================================================================
# Copy this file to your n8n environment variables or use as reference
# for configuring the HTTP Request credentials.
#
# IMPORTANT: Never commit actual credentials to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Azure DevOps Connection
# -----------------------------------------------------------------------------

# Your Azure DevOps organization name (from URL: dev.azure.com/{ORGANIZATION})
ADO_ORGANIZATION=opusinspection

# Project name (exact name as shown in ADO)
ADO_PROJECT=A TDC Master Project

# API Version (recommended: 7.1-preview.3 for work items)
ADO_API_VERSION=7.1-preview.3

# -----------------------------------------------------------------------------
# Authentication Option 1: Personal Access Token (PAT)
# -----------------------------------------------------------------------------
# Simpler setup, good for personal/testing use
# Create at: https://dev.azure.com/{org}/_usersSettings/tokens
# Required scopes: Work Items (Read)

ADO_PAT=your-personal-access-token-here

# -----------------------------------------------------------------------------
# Authentication Option 2: OAuth2 / Azure AD App
# -----------------------------------------------------------------------------
# More secure, better for production/shared use
# Requires Azure AD App Registration

# Azure AD Tenant ID
AZURE_TENANT_ID=your-tenant-id

# Application (client) ID from Azure AD app registration
AZURE_CLIENT_ID=your-client-id

# Client secret from Azure AD app registration
AZURE_CLIENT_SECRET=your-client-secret

# OAuth2 Token URL (typically)
# https://login.microsoftonline.com/{TENANT_ID}/oauth2/v2.0/token

# OAuth2 Scopes
# 499b84ac-1321-427f-aa17-267ca6975798/.default

# -----------------------------------------------------------------------------
# ADO Query Configuration
# -----------------------------------------------------------------------------
# GUIDs of saved queries that return the work items to assess
# Find these in ADO: Boards > Queries > Right-click query > Copy Query URL
# The GUID is at the end of the URL

# Query 1: Features
ADO_QUERY_1_NAME=Q1 2026 Committed Features
ADO_QUERY_1_GUID=973996cc-b2c6-49fe-935b-f043f474f4cd

# Query 2: User Stories
ADO_QUERY_2_NAME=Q1 2026 Committed User Stories
ADO_QUERY_2_GUID=1e9d9cc6-ffee-4ed3-a8d1-b8881451b294

# Add more queries as needed:
# ADO_QUERY_3_NAME=
# ADO_QUERY_3_GUID=

# -----------------------------------------------------------------------------
# Output Configuration
# -----------------------------------------------------------------------------

# Email recipients (comma-separated)
EMAIL_RECIPIENTS=steve.harlow@opusinspection.com

# Slack webhook URL (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Slack channel (if using Slack node instead of webhook)
SLACK_CHANNEL=#ticket-quality

# -----------------------------------------------------------------------------
# Schedule Configuration
# -----------------------------------------------------------------------------
# Default: Every Monday at 8:00 AM
# Cron format: minute hour day-of-month month day-of-week

SCHEDULE_CRON=0 8 * * 1

# Timezone for schedule
SCHEDULE_TIMEZONE=America/Chicago
